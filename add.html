// Use cookies to store password
// use window.prompt() to get password
// use window.setInterval() to record locations and timestamps and push them into an array
// have a button that will iterate through the array and post the data to the server (JSON formatted, single request maybe?)
// new location should have a different icon (http://www.google.com/mapfiles/dd-end.png ?)
<html>
<head>
<link rel="stylesheet" type="text/css" href="map.css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true&libraries=geometry"></script>
<script type="text/javascript" src="jquery.cookie.js"></script>
<script type="text/javascript" src="map.js"></script>
<script type="text/javascript">
    var latitude = 0, longitude = 0;
    function saveCoords(){
        $.ajax({
            url: "save.php", 
            data: {lat: latitude, long: longitude}, 
            error: function(data){
                alert("Error uploading: " + data);
            },
            success: function(data){
                alert("Uploaded coordinates successfully!");
            }
        });
    }
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position){
        latitude = position.coords.latitude;
        longitude = position.coords.longitude;
        var coords = new google.maps.LatLng(latitude, longitude);
        var marker = new google.maps.Marker({
                    position: coords,
                    map: window.map,
                    title: "Your current location!"
            });

        map.panTo(marker.getPosition());
        saveCoords();
        });
    } else {
        // Do nothing.
    }
	</script>
</head>
<body>
<div id="map"></div>
</body>
</html> 